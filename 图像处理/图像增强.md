## 图像增强

> 图像增强的基本方法可分为两大类：空间域方法和频域方法。

1. 空间域方法：以对图像的像素直接处理为基础。

    * 点运算：灰度变换、直方图修正、局部统计法
    * 模板处理：图像平滑、图像锐化

2. 频率域方法：以修改图像的傅里叶变换为基础。

    * 高通滤波
    * 低通滤波
    * 同态滤波

3. 彩色图像增强

    * 假彩色增强
    * 伪彩色
    * 彩色变换及应用


### 空间域图像增强

> 在空间域中，通过`线性或非线性变换`来增强构成图像的像素。

* 点处理：作用于单个像素，包括`灰度变换`、`直方图处理`、`伪彩色处理`等技术。
* 模板处理：作用于像素邻域的处理方法，包括`图像平滑`、`图像锐化`等技术。


1. 基于灰度变换的图像增强

    * 灰度线性变换：`s=a*r+b`
    * 分段线性变换：对不同灰度范围进行不同的映射处理。可突出关注区域的灰度区间，抑制不受关注区域的灰度区间。
    * 反转变换：`s=L-1-r`，适用于增强图像暗色区域的白色或灰色细节。
    * 对数变换：`s=c*log(1+r)`，扩张数值较小的灰度范围，压缩数值较大的灰度范围。
    * 幂次变换：`s=c*r^k`，`k<1`时，拉伸数值较小的灰度，压缩数值较大的灰度；`k>1`时，压缩数值较小的灰度，拉伸数值较大的灰度。
    * 灰度切分：增强图像中的某一个灰度段，其它的去掉或保持不变，可以突出特定灰度范围的细节。


2. 基于直方图处理的图像增强

    > 直方图：统计每个灰度的像素数量。进行归一化后可以得到概率。

    > 基于直方图的灰度变换，可调整图像直方图到一个预定的形状。该变换是将某一灰度的所有像素整体变换。

    * 直方图均衡化：减少图像的灰度级以换取对比度的加大。原始直方图上频数较小的灰度级被归入很少几个或一个灰度级内。灰度合并，灰度减少，使得直方图趋于平坦。
    * 直方图规定化：将输入图像灰度分布变成一个期望的灰度分布直方图。


3. 空间域滤波增强

    > 空间域滤波增强采用`模板`处理方法对图像进行滤波，以`去除图像噪声`或`增强图像细节`。

    > 模板的系数值决定了处理的性质，如图像平滑或锐化。

    > 图像平滑通过`积分`过程使得图像边缘模糊，图像锐化通过`微分`使得图像边缘突出、清晰。

    > `图像平滑`属于`低通滤波`，`图像锐化`属于`高通滤波`（边缘占据图像的高频部分）。

    * `空间域平滑滤波器`：为了抑制噪声、改善图像质量所进行的处理称为图像平滑或去噪。可以在空间域和频率域进行。

        1. 局部平滑法：邻域内平均值。该方法简单，但是在降低噪声的同时也使图像变得模糊，特别是图像的边缘和细节处。而且邻域越大，在去噪能力增强的同时模糊程度也越严重。
        2. 超限像素平滑法：当原始值`f(x,y)`和邻域平均`g(x,y)`的差的绝对值大于阈值T时，结果为邻域平均`g(x,y)`，否则为原始值`f(x,y)`。该算法对抑制椒盐噪声比较有效，对保护仅有微小灰度差的细节和纹理也有效。
        3. 灰度最相近的K个邻近点平均法：属于同一个集合体的像素的灰度值应该高度一致。可用邻域内与中心像素的灰度最接近的K个邻点像素的平均灰度来代替窗口中心像素的灰度值。对于`3*3`的窗口，取`K=6`为宜。
        4. 空间低通滤波法：掩模作用于图像`f(x,y)`。掩模不同，中心点或邻域的重要程度也不相同，因此，应根据问题的需要选取合适的掩模。

    * `空间域锐化滤波器`：（图像锐化是增强图像的边缘或轮廓等细节）

        1. 梯度锐化法：梯度算子(2x2)、Roberts算子(2x2)、Prewitt算子(3x3)、Sobel算子(3x3)。
        2. 拉普拉斯算子：二阶梯度算子，边缘的方向信息被丢失。
        3. 低频分量消除法：边缘增强是要突出图像边缘，抑制图像中的非边缘信息，使图像轮廓更加清晰。由于边缘占据图像的高频部分，所以边缘增强通常属于高通滤波。因此，图像锐化是要增强图像频谱中的高频部分，相当于从原图中减去低频分量。选择不同的平滑方法，会有不同的图像锐化结果。

            1. 方法一：从原图像f(x,y)中减去平滑低频图像得到输出图像g(x,y)。
            2. 方法二：对原图像进行加权，然后减去低通成分。


### 频率域图像增强

> 通过`傅里叶变换`，可以把`空间域`混叠的成分在`频率域`中分离开来，从而`提取或滤去`相应的图像成分。

> 采用傅里叶变换快速算法，来减少运算量。


1. `频率域平滑滤波器`

    * 理想低通滤波器：输入信号在通带内所有频率分量完全无损地通过，而在阻带内所有频率分量完全衰减。
    * Butterworth低通滤波器：传递函数比较平滑，连续性衰减。
    * 指数低通滤波器
    * 梯形低通滤波器


2. `频率域锐化滤波器`

    > 采用`高通滤波器`让`高频成分通过`，使`低频成分削弱`，再经`傅里叶逆变换`得到`边缘锐化`的图像。

    > 高通滤波不但会使有用的信息增强，同时也使噪声增强，因此不能随意使用。

    * 理想高通滤波器
    * Butterworth高通滤波器
    * 指数高通滤波器
    * 梯形高通滤波器


3. `同态滤波器`

    > 首先做对数运算，把两个相乘的分量变为两个相加的分量，分别表示图像的高频分量和低频分量，然后用线性滤波方法进行处理。最后作逆运算，恢复处理后的图像。



### 彩色图像增强


有两种选择：

1. 分别处理每一分量图像，然后将分别处理过的分量图像合成彩色图像。
2. 直接对彩色像素进行处理。

